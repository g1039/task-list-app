{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks crispy_forms_tags %}

{% block title %}Update Task{% endblock title %}

{% block content %}
<div class="container-fluid">
        <div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-2 text-gray-800">Update Task</h1>
</div>

<div class="card shadow mb-4">
    <div class="card-body">
        <div class="row d-flex justify-content-center align-items-center">
            <div class="col-lg-6">
                <div class="p-5">
                    <form method="POST">
                        {% csrf_token %}
                        {{ form|crispy }}
                        <button class="btn btn-primary btn-user btn-block">
                            Save
                        </button>
                        {% if user.is_superuser %}
                        <a href="{% url 'tasks' %}" class="btn btn-secondary btn-user btn-block">
                            Cancel
                        </a>
                        {% else %}
                        <a href="{% url 'home' %}" class="btn btn-secondary btn-user btn-block">
                            Cancel
                        </a>
                        {% endif %}
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<script defer type="module">
    $(document).ready(function () {
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd',
            autoclose: true,
            todayHighlight: true
        });

        $('#id_assigned_to').select2({
            placeholder: "Select a user",
            allowClear: true,
            width: '100%'
        });
    });
</script>
{% endblock content %}
